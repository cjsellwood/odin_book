<%- layout("layout/boilerplate") %>
<section class="form-wrapper">
  <div>
    <h1>Edit Profile</h1>
    <div id="current-image"></div>
    <div class="image-container avatar">
      <img src="<%= user.avatarUrl %>" />
    </div>
    <div>
      <form
        class="form"
        action="/profile/edit?_method=PATCH"
        method="POST"
        enctype="multipart/form-data"
        novalidate
      >
        <div>
          <label for="image">Profile Picture</label>
          <input type="file" name="image" id="image" />
          <div class="validate-msg"></div>
        </div>
        <div>
          <label for="firstName">First Name</label>
          <input
            type="text"
            value="<%= user.firstName %>"
            id="firstName"
            name="edit[firstName]"
            required
          />
          <div class="validate-msg"></div>
        </div>
        <div>
          <label for="lastName">Last Name</label>
          <input
            type="text"
            value="<%= user.lastName %>"
            id="lastName"
            name="edit[lastName]"
            required
          />
          <div class="validate-msg"></div>
        </div>
        <div>
          <label for="city">City</label>
          <input
            type="text"
            value="<%= user.city %>"
            id="city"
            name="edit[city]"
          />
          <div class="validate-msg"></div>
        </div>
        <div>
          <label for="country">Country</label>
          <input
            type="text"
            value="<%= user.country %>"
            id="country"
            name="edit[country]"
          />
          <div class="validate-msg"></div>
        </div>
        <div>
          <label for="birthDate">Birth Date</label>
          <input type="date" value="<%= user.birthDate ?
          user.birthDate.toISOString().split("T")[0] : "" %>" id="birthDate"
          name="edit[birthDate]" 
          max="<%= `${new Date().toISOString().split("T")[0]}` %>"
          />
          <div class="validate-msg"></div>
        </div>
        <button>Submit</button>
      </form>
    </div>
  </div>
</section>
<script src="/js/showImage.js"></script>
